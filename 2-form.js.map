{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["// Задача 1 (ускладнена): Автозбереження форми з затримкою + лічильник символів\n// Технічне завдання (ТЗ):\n// При введенні даних у поля форми (email, message) потрібно:\n// зберігати ці дані в localStorage з ключем \"feedback-form-state\",\n// але не одразу, а через 500 мс після останнього введення (використати дебаунс).\n// При завантаженні сторінки:\n// якщо у localStorage є збережені значення — вставити їх у відповідні поля,\n// якщо нема — залишити порожні поля.\n// Під полем message відображати лічильник символів, який показує:\n// Введено X із 500 символів.\n// При відправленні форми:\n// якщо хоча б одне поле порожнє — показати повідомлення Fill please all fields;\n// якщо все заповнено — вивести formData у консоль, очистити:\n// localStorage,\n// поля форми,\n// formData,\n// лічильник символів.\n// Максимальна довжина повідомлення — 500 символів.\n\nconst feedbackFormEl = document.querySelector('.feedback-form');\nconst charCounter = document.querySelector('.char-counter');\nconst formData = {\n    email: '',\n    message: ''\n}\nconst localStorageValue = localStorage.getItem(\"feedback-form-state\");\nif (localStorageValue) {\n    const parseFormData = JSON.parse(localStorageValue);\n    formData.email = parseFormData.email || '';\n    formData.message = parseFormData.message || '';\n    feedbackFormEl.elements.email.value = formData.email;\n    feedbackFormEl.elements.message.value = formData.message;\n               charCounter.textContent = formData.message.length;\n}\nlet timerId;\nfeedbackFormEl.addEventListener('input', handler);\nfunction handler() {\n    clearTimeout(timerId);\n    timerId = setTimeout(() => {\n         formData.email = feedbackFormEl.elements.email.value.trim();\n    formData.message = feedbackFormEl.elements.message.value.trim();\n        localStorage.setItem(\"feedback-form-state\", JSON.stringify(formData));\n           charCounter.textContent = formData.message.length;\n    }, 500)\n}\nfeedbackFormEl.addEventListener('submit', (event) => {\n    event.preventDefault();\n    if (feedbackFormEl.elements.email.value.trim() === ''\n        || feedbackFormEl.elements.message.value.trim() === '') {\n        alert('Fill please all fields');\n        return;\n    } \n    console.log(formData);\n    localStorage.removeItem(\"feedback-form-state\");\n    feedbackFormEl.reset();\n    formData.email = '';\n    formData.message = '';\n               charCounter.textContent = 0;\n})"],"names":["feedbackFormEl","charCounter","formData","localStorageValue","parseFormData","timerId","handler","event"],"mappings":"wFAmBA,MAAMA,EAAiB,SAAS,cAAc,gBAAgB,EACxDC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAW,CACb,MAAO,GACP,QAAS,EACb,EACMC,EAAoB,aAAa,QAAQ,qBAAqB,EACpE,GAAIA,EAAmB,CACnB,MAAMC,EAAgB,KAAK,MAAMD,CAAiB,EAClDD,EAAS,MAAQE,EAAc,OAAS,GACxCF,EAAS,QAAUE,EAAc,SAAW,GAC5CJ,EAAe,SAAS,MAAM,MAAQE,EAAS,MAC/CF,EAAe,SAAS,QAAQ,MAAQE,EAAS,QACtCD,EAAY,YAAcC,EAAS,QAAQ,MAC1D,CACA,IAAIG,EACJL,EAAe,iBAAiB,QAASM,CAAO,EAChD,SAASA,GAAU,CACf,aAAaD,CAAO,EACpBA,EAAU,WAAW,IAAM,CACtBH,EAAS,MAAQF,EAAe,SAAS,MAAM,MAAM,OAC1DE,EAAS,QAAUF,EAAe,SAAS,QAAQ,MAAM,OACrD,aAAa,QAAQ,sBAAuB,KAAK,UAAUE,CAAQ,CAAC,EACjED,EAAY,YAAcC,EAAS,QAAQ,MACjD,EAAE,GAAG,CACV,CACAF,EAAe,iBAAiB,SAAWO,GAAU,CAEjD,GADAA,EAAM,eAAc,EAChBP,EAAe,SAAS,MAAM,MAAM,KAAM,IAAK,IAC5CA,EAAe,SAAS,QAAQ,MAAM,KAAI,IAAO,GAAI,CACxD,MAAM,wBAAwB,EAC9B,MACH,CACD,QAAQ,IAAIE,CAAQ,EACpB,aAAa,WAAW,qBAAqB,EAC7CF,EAAe,MAAK,EACpBE,EAAS,MAAQ,GACjBA,EAAS,QAAU,GACRD,EAAY,YAAc,CACzC,CAAC"}